# Test info

- Name: C-04 should follow by user
- Location: C:\Users\Lena\OneDrive\Documents\qa-practice-pw\tests\conduit\follow-user.spec.ts:3:5

# Error details

```
Error: expect.toContainText: Error: strict mode violation: locator('.article-preview').filter({ has: getByRole('link', { name: 'testuser' }).first() }) resolved to 10 elements:
    1) <div class="article-preview" data-qa-type="article-preview">…</div> aka getByText('testuser May 16, 2025 0 testArticle_2This is about a test 2test test test by it').first()
    2) <div class="article-preview" data-qa-type="article-preview">…</div> aka getByText('testuser May 16, 2025 1 testArticle_2This is about a test 2test test test by it').first()
    3) <div class="article-preview" data-qa-type="article-preview">…</div> aka getByText('testuser May 16, 2025 1 testArticle_2This is about a test 2test test test by it').nth(1)
    4) <div class="article-preview" data-qa-type="article-preview">…</div> aka getByText('testuser May 16, 2025 1 testArticle_2This is about a test 2test test test by it').nth(2)
    5) <div class="article-preview" data-qa-type="article-preview">…</div> aka getByText('testuser May 16, 2025 0 testArticle_2This is about a test 2test test test by it').nth(1)
    6) <div class="article-preview" data-qa-type="article-preview">…</div> aka getByText('testuser May 16, 2025 0 testArticle_2This is about a test 2test test test by it').nth(2)
    7) <div class="article-preview" data-qa-type="article-preview">…</div> aka getByText('testuser May 16, 2025 1 testArticleThis is about a testtest test test by itRead')
    8) <div class="article-preview" data-qa-type="article-preview">…</div> aka getByText('testuser May 16, 2025 0 testArticleThis is about a testtest test test by itRead').first()
    9) <div class="article-preview" data-qa-type="article-preview">…</div> aka getByText('testuser May 16, 2025 0 testArticleThis is about a testtest test test by itRead').nth(1)
    10) <div class="article-preview" data-qa-type="article-preview">…</div> aka getByText('testuser May 16, 2025 0 testArticleThis is about a testtest test test by itRead').nth(2)

Call log:
  - expect.toContainText with timeout 10000ms
  - waiting for locator('.article-preview').filter({ has: getByRole('link', { name: 'testuser' }).first() })

    at C:\Users\Lena\OneDrive\Documents\qa-practice-pw\tests\conduit\follow-user.spec.ts:37:79
```

# Page snapshot

```yaml
- navigation:
  - link "conduit":
    - /url: /
  - list:
    - listitem:
      - link "Home":
        - /url: /
    - listitem:
      - link " New Article":
        - /url: /editor
    - listitem:
      - link " Settings":
        - /url: /settings
    - listitem:
      - link "olena012":
        - /url: /@olena012/
- heading "conduit" [level=1]
- paragraph: A place to share your knowledge.
- list:
  - listitem:
    - link "Your Feed":
      - /url: /my-feed
  - listitem:
    - link "Global Feed":
      - /url: /
- link:
  - /url: /@testuser/
  - img
- link "testuser":
  - /url: /@testuser/
- text: May 16, 2025
- button " 0"
- link "testArticle_2 This is about a test 2test test test by it 2 Read more...":
  - /url: /articles/testarticle-ym9h1
  - heading "testArticle_2" [level=1]
  - paragraph: This is about a test 2test test test by it 2
  - text: Read more...
  - list
- link:
  - /url: /@testuser/
  - img
- link "testuser":
  - /url: /@testuser/
- text: May 16, 2025
- button " 1"
- link "testArticle_2 This is about a test 2test test test by it 2 Read more...":
  - /url: /articles/testarticle-hb2c0f
  - heading "testArticle_2" [level=1]
  - paragraph: This is about a test 2test test test by it 2
  - text: Read more...
  - list
- link:
  - /url: /@testuser/
  - img
- link "testuser":
  - /url: /@testuser/
- text: May 16, 2025
- button " 1"
- link "testArticle_2 This is about a test 2test test test by it 2 Read more...":
  - /url: /articles/testarticle-rtwwe8
  - heading "testArticle_2" [level=1]
  - paragraph: This is about a test 2test test test by it 2
  - text: Read more...
  - list
- link:
  - /url: /@testuser/
  - img
- link "testuser":
  - /url: /@testuser/
- text: May 16, 2025
- button " 1"
- link "testArticle_2 This is about a test 2test test test by it 2 Read more...":
  - /url: /articles/testarticle-gh8b8f
  - heading "testArticle_2" [level=1]
  - paragraph: This is about a test 2test test test by it 2
  - text: Read more...
  - list
- link:
  - /url: /@testuser/
  - img
- link "testuser":
  - /url: /@testuser/
- text: May 16, 2025
- button " 0"
- link "testArticle_2 This is about a test 2test test test by it 2 Read more...":
  - /url: /articles/testarticle-kqtp9p
  - heading "testArticle_2" [level=1]
  - paragraph: This is about a test 2test test test by it 2
  - text: Read more...
  - list
- link:
  - /url: /@testuser/
  - img
- link "testuser":
  - /url: /@testuser/
- text: May 16, 2025
- button " 0"
- link "testArticle_2 This is about a test 2test test test by it 2 Read more...":
  - /url: /articles/testarticle-7pwpbj
  - heading "testArticle_2" [level=1]
  - paragraph: This is about a test 2test test test by it 2
  - text: Read more...
  - list
- link:
  - /url: /@testuser/
  - img
- link "testuser":
  - /url: /@testuser/
- text: May 16, 2025
- button " 1"
- link "testArticle This is about a testtest test test by it Read more...":
  - /url: /articles/testarticle-o3rky5
  - heading "testArticle" [level=1]
  - paragraph: This is about a testtest test test by it
  - text: Read more...
  - list
- link:
  - /url: /@testuser/
  - img
- link "testuser":
  - /url: /@testuser/
- text: May 16, 2025
- button " 0"
- link "testArticle This is about a testtest test test by it Read more...":
  - /url: /articles/testarticle-71n8jm
  - heading "testArticle" [level=1]
  - paragraph: This is about a testtest test test by it
  - text: Read more...
  - list
- link:
  - /url: /@testuser/
  - img
- link "testuser":
  - /url: /@testuser/
- text: May 16, 2025
- button " 0"
- link "testArticle This is about a testtest test test by it Read more...":
  - /url: /articles/testarticle-89zho9
  - heading "testArticle" [level=1]
  - paragraph: This is about a testtest test test by it
  - text: Read more...
  - list
- link:
  - /url: /@testuser/
  - img
- link "testuser":
  - /url: /@testuser/
- text: May 16, 2025
- button " 0"
- link "testArticle This is about a testtest test test by it Read more...":
  - /url: /articles/testarticle-vrxd5r
  - heading "testArticle" [level=1]
  - paragraph: This is about a testtest test test by it
  - text: Read more...
  - list
- navigation:
  - list:
    - listitem:
      - link "1":
        - /url: ""
    - listitem:
      - link "2":
        - /url: ""
    - listitem:
      - link "3":
        - /url: ""
    - listitem:
      - link "4":
        - /url: ""
    - listitem:
      - link "5":
        - /url: ""
    - listitem:
      - link "6":
        - /url: ""
- paragraph: Popular Tags
- link "demo":
  - /url: /tag/demo
- link "testing":
  - /url: /tag/testing
- link "playwright":
  - /url: /tag/playwright
- link "dojo":
  - /url: /tag/dojo
- link "qa":
  - /url: /tag/qa
- link "test":
  - /url: /tag/test
- link "cool":
  - /url: /tag/cool
- contentinfo:
  - link "conduit":
    - /url: /
  - text: An interactive learning project from
  - link "Thinkster":
    - /url: https://thinkster.io
  - text: . Code & design licensed under MIT.
```

# Test source

```ts
   1 | import { test , expect } from '@playwright/test';
   2 |
   3 | test('C-04 should follow by user',
   4 |      { tag: "@article" }, async ({ page }) => {await page.goto('https://demo.learnwebdriverio.com/');
   5 | await page.goto('https://demo.learnwebdriverio.com/');
   6 | await page.getByText('Sign in').click();
   7 | await page.locator('input[placeholder="Email"]').fill('olena012@gmail.com');
   8 | await page.locator('input[placeholder="Password"]').fill('admin012');
   9 | await page.locator('button').click();
  10 | await expect(page).toHaveURL('https://demo.learnwebdriverio.com/login');;
  11 |
  12 |   // await page.getByRole('link', { name: 'Global Feed' }).waitFor({ state: 'visible' });
  13 |   // await page.locator('//a[@class="page-link" and text() = "2"]').click();
  14 |
  15 |   
  16 |   // const testingLink = page.getByRole('link', { name: 'testuser' });
  17 |   // // await testingLink.waitFor({ state: 'visible', timeout: 10000 });
  18 |   // await expect(testingLink).toContainText('testArticle_2');
  19 |   // await testingLink.click();
  20 |
  21 |
  22 |   
  23 |
  24 |   // const followButton = page.locator('[data-qa-id="follow-toggle"]');
  25 |   // await followButton.waitFor({ state: 'visible' });
  26 |   // await expect(followButton).toContainText('Follow');
  27 |   // await followButton.click();
  28 |   // await expect(followButton).toContainText('Unfollow');
  29 |   // await followButton.click();
  30 |   await page.getByRole('link', { name: 'Global Feed' }).waitFor({ state: 'visible', timeout: 10000 });
  31 |   await page.locator('//a[@class="page-link" and text()="2"]').click();
  32 |
  33 |   // Вибір першого посилання з автором testuser
  34 |   const testingLink = page.getByRole('link', { name: 'testuser' }).first();
  35 |   await testingLink.waitFor({ state: 'visible', timeout: 10000 });
  36 |   // Перевірка назви статті в контейнері
> 37 |   await expect(page.locator('.article-preview').filter({ has: testingLink })).toContainText('testArticle_2', { timeout: 10000 });
     |                                                                               ^ Error: expect.toContainText: Error: strict mode violation: locator('.article-preview').filter({ has: getByRole('link', { name: 'testuser' }).first() }) resolved to 10 elements:
  38 |   await testingLink.click();
  39 |
  40 |   // Дії з кнопкою Follow/Unfollow
  41 |   const followButton = page.locator('[data-qa-id="follow-toggle"]');
  42 |   await followButton.waitFor({ state: 'visible', timeout: 10000 });
  43 |   await expect(followButton).toContainText('Follow', { timeout: 10000 });
  44 |   await followButton.click();
  45 |   await expect(followButton).toContainText('Unfollow', { timeout: 10000 });
  46 |   await followButton.click();
  47 |
  48 | });
```